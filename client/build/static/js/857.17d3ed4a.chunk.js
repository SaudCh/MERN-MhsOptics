"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[857],{873:function(e,s,t){t.d(s,{x:function(){return n}});var n=function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}},7857:function(e,s,t){t.r(s),t.d(s,{default:function(){return x}});var n=t(2791),c=t(9707),r=t(7008),i=t(8624),l=t(9439),a=t(4569),d=t.n(a),o=t(184),m=function(e){var s=e.cart,t=e.user,c=n.useState(!1),r=(0,l.Z)(c,2),i=r[0],a=r[1];return(0,o.jsx)(o.Fragment,{children:(null===t||void 0===t?void 0:t._id)&&(0,o.jsxs)("button",{type:"button",class:"btn text-white mt-3 ",onClick:function(){return function(){var e=JSON.parse(localStorage.getItem("token")),n={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}};a(!0),d().post("".concat("","/api/orders/checkout-session"),{cart:s,user:t},n).then((function(e){e.data.url&&(window.location.href=e.data.url)})).catch((function(e){return console.log(e.message)})),a(!1)}()},disabled:i,style:{backgroundColor:"#373B3C"},children:[i&&(0,o.jsx)("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"Check out"]})})},u=t(873);function x(){document.title="Cart";var e=(0,n.useContext)(c.A),s=e.cart,t=e.removeAll,l=e.removeItem,a=e.total,d=e.IncQuantity,x=e.DecQuantity,h=(0,n.useContext)(r.V).user;return 0===s.length?(0,o.jsx)("div",{className:"cart d-flex align-items-center justify-content-center",style:{minHeight:"70vh"},children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("h1",{children:"Cart"}),(0,o.jsx)("p",{children:"There are no items in your cart."})]})}):(0,o.jsx)("section",{className:"container-fluid mt-3 pt-2 ",style:{minHeight:"72vh"},children:(0,o.jsxs)("div",{className:"row justify-content-center align-items-center align-items-md-start flex-column-reverse flex-md-row",children:[(0,o.jsxs)("div",{className:"col-11 col-md-9 bg-light border rounded p-2 mt-3 mt-md-0",style:{minHeight:"50vh"},children:[(0,o.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,o.jsx)("p",{className:"h4",children:"Cart"}),(0,o.jsx)("button",{className:"btn btn-sm text-white",style:{backgroundColor:"#373B3C"},onClick:function(){return t()},children:"Remove All"})]}),s.map((function(e){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,o.jsxs)("div",{className:"d-flex align-items-center",children:[(0,o.jsx)("figure",{className:"rounded overflow-hidden border",children:(0,o.jsx)("img",{src:"".concat("","/img/products/").concat(e.image),alt:"",width:"100",height:"100"})}),(0,o.jsxs)("div",{className:"ms-1",children:[(0,o.jsx)("p",{className:"h6 p-0 m-0",children:e.title}),(0,o.jsx)("p",{className:"p-0 m-0 text-success fw-bold",children:(0,u.x)(e.price)})]})]}),(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("p",{className:"p-0 m-0 text-success fw-bold",children:(0,u.x)(e.price)}),(0,o.jsxs)("div",{className:"border d-flex rounded overflow-hidden bg-white",children:[(0,o.jsx)("button",{className:"btn px-2 py-1 cart-icon border-end",onClick:function(){return x(e.id)},children:(0,o.jsx)(i.Sb,{})}),(0,o.jsx)("div",{children:(0,o.jsx)("p",{className:"m-0 px-3 py-1",children:e.quantity})}),(0,o.jsx)("button",{className:"btn px-2 py-1 cart-icon border-start",onClick:function(){return d(e.id)},children:(0,o.jsx)(i.xY,{})})]})]}),(0,o.jsx)("div",{className:"",children:(0,o.jsx)("button",{className:"btn btn-danger btn-sm",onClick:function(){return l(e.id)},children:(0,o.jsx)(i.XH,{})})})]}),(0,o.jsx)("hr",{})]})}))]}),(0,o.jsxs)("div",{className:"col-11 col-md-2",children:[(0,o.jsxs)("div",{className:"bg-light border p-2 rounded",children:[(0,o.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,o.jsx)("p",{className:"p-0 m-0",children:"Subtotal"}),(0,o.jsx)("p",{className:"p-0 m-0",children:(0,u.x)(a)})]}),(0,o.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,o.jsx)("p",{className:"p-0 m-0",children:"Delivery Charges"}),(0,o.jsx)("p",{className:"p-0 m-0",children:"Total"})]}),(0,o.jsx)("hr",{}),(0,o.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,o.jsx)("p",{className:"p-0 m-0",children:"Total"}),(0,o.jsx)("p",{className:"p-0 m-0",children:(0,u.x)(a)})]}),(0,o.jsx)("div",{className:"text-end",children:(0,o.jsx)(m,{cart:s,user:h})})]}),(0,o.jsx)("div",{className:"d-flex justify-content-between",children:(0,o.jsx)(m,{cart:s,user:h})})]})]})})}}}]);
//# sourceMappingURL=857.17d3ed4a.chunk.js.map