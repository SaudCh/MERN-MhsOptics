{"version":3,"file":"static/js/310.99573afc.chunk.js","mappings":"yQASe,SAASA,IAAY,IAAD,EACjCC,SAASC,MAAQ,WACjB,IAAQC,GAAcC,EAAAA,EAAAA,YAAWC,EAAAA,GAAzBF,UACR,GAAkCG,EAAAA,EAAAA,WAAS,GAA3C,eAAOC,EAAP,KAAkBC,EAAlB,KACQC,GAAuBL,EAAAA,EAAAA,YAAWM,EAAAA,GAAlCD,mBACFE,GAAOP,EAAAA,EAAAA,YAAWQ,EAAAA,GACxB,GAAgCN,EAAAA,EAAAA,UAAS,IAAzC,eAAOO,EAAP,KAAiBC,EAAjB,KAmCA,OA3BAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAW,yCAAG,gGAClBR,GAAa,GACPS,EAAS,CACbC,QAAS,CAAEC,cAAc,UAAD,cAAYR,QAAZ,IAAYA,OAAZ,EAAYA,EAAMS,SAH1B,SAMZC,IAAAA,IAAA,UAECC,GAFD,0BAEmDX,EAAKY,KAAKC,GAF7D,gBAGFP,GAEDQ,MAAK,SAAUC,GACdZ,EAAYY,EAASC,KAAKA,KAAKC,SAChC,IACAC,OAAM,SAAUC,GAAQ,IAAD,EAEZ,UAAAA,EAAMJ,SAASC,YAAf,SAAqBI,QAC3BD,EAAMJ,SAASC,KAAKI,QACpBD,EAAMC,OACX,IAnBe,OAoBlBvB,GAAa,GApBK,2CAAH,qDAuBjBQ,GACD,GAAE,QAACL,QAAD,IAACA,OAAD,EAACA,EAAMS,MAAP,UAAcT,EAAKY,YAAnB,aAAc,EAAWC,KAEJ,IAApBX,EAASmB,QAAiBzB,GAe5B,iBAAK0B,UAAU,MAAf,UACG1B,IAAa,SAAC,IAAD,CAAgB2B,WAAS,IACtCrB,EAASsB,KAAI,SAACC,EAAMC,GACnB,IAAQC,EAAYF,EAAZE,QACApC,EAA6BoC,EAA7BpC,MAAOqC,EAAsBD,EAAtBC,MAAOC,EAAeF,EAAfE,OAAQhB,EAAOc,EAAPd,GAC9B,OACE,iBAAKS,UAAU,yBAAf,WACE,gBAAKA,UAAU,QAAf,SAAwBI,EAAQ,KAEhC,iBAAKJ,UAAU,0DAAf,WACE,gBACEQ,IAAG,UAAKnB,GAAL,yBAAsDkB,EAAO,IAChEE,MAAM,MACNC,IAAI,MAEN,iBAAKV,UAAU,OAAf,WACE,cAAGA,UAAU,UAAb,SAAwB/B,KACxB,cAAG+B,UAAU,uBAAb,UAAqCW,EAAAA,EAAAA,GAAeL,YAGxD,iBAAKN,UAAU,QAAf,WACE,mBACEY,QAAS,kBAAM1C,EAAUmC,EAAS,EAAzB,EACTL,UAAU,6BACVa,MAAO,CAAEC,gBAAiB,mBAH5B,0BAOA,mBACEd,UAAU,wBACVY,QAAS,kBA9EI,SAACrB,GAC1BV,EAAYD,EAASmC,QAAO,SAACZ,GAAD,OAAUA,EAAKE,QAAQd,KAAOA,CAA9B,KAE5Bf,EAAmBe,EACpB,CA0E4ByB,CAAmBzB,EAAzB,EAFX,yBASP,QAlDD,gBACES,UAAU,6DACVa,MAAO,CAAEI,UAAW,QAFtB,UAIE,iBAAKjB,UAAU,cAAf,WACE,eAAIA,UAAU,oBAAd,uBACA,eAAIA,UAAU,iBAAd,uCA+CT,C","sources":["Pages/Wishlist/Wishlist.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useContext } from \"react\";\nimport { AuthContext } from \"../../Components/Context/AuthContext\";\nimport { WishContext } from \"../../Components/Context/WishlistContext\";\nimport axios from \"axios\";\nimport { formatCurrency } from \"../../Components/utils/currencyFormater\";\nimport LoadingSpinner from \"../../Components/Spinner/spinner\";\nimport { CartContext } from \"../../Components/Context/CartContext\";\n\nexport default function Wishlist() {\n  document.title = \"Wishlist\";\n  const { addToCart } = useContext(CartContext);\n  const [isLoading, setIsLoading] = useState(false);\n  const { removeFromWishlist } = useContext(WishContext);\n  const auth = useContext(AuthContext);\n  const [wishlist, setWishlist] = useState([]);\n\n  const deleteFromWishlist = (id) => {\n    setWishlist(wishlist.filter((item) => item.product.id !== id));\n\n    removeFromWishlist(id);\n  };\n\n  useEffect(() => {\n    const getWishlist = async () => {\n      setIsLoading(true);\n      const config = {\n        headers: { Authorization: `Bearer ${auth?.token}` },\n      };\n\n      await axios\n        .get(\n          `${process.env.REACT_APP_SERVER_URL}/api/favourite/${auth.user.id}?pop=product`,\n          config\n        )\n        .then(function (response) {\n          setWishlist(response.data.data.favourit);\n        })\n        .catch(function (error) {\n          const err = {};\n          err.api = error.response.data?.message\n            ? error.response.data.message\n            : error.message;\n        });\n      setIsLoading(false);\n    };\n\n    getWishlist();\n  }, [auth?.token, auth.user?.id]);\n\n  if (wishlist.length === 0 && !isLoading) {\n    return (\n      <div\n        className=\"container d-flex align-items-center justify-content-center\"\n        style={{ minHeight: \"72vh\" }}\n      >\n        <div className=\"text-center\">\n          <h3 className=\"text-secondary h2\">WishList</h3>\n          <h3 className=\"text-secondary\">There is Nothing here</h3>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"row\">\n      {isLoading && <LoadingSpinner asOverlay />}\n      {wishlist.map((item, index) => {\n        const { product } = item;\n        const { title, price, images, id } = product;\n        return (\n          <div className=\"row align-items-center\">\n            <div className=\"col-1\">{index + 1}</div>\n\n            <div className=\"col-4 d-flex align-items-center flex-column flex-md-row\">\n              <img\n                src={`${process.env.REACT_APP_SERVER_URL}/img/products/${images[0]}`}\n                width=\"100\"\n                alt=\"\"\n              />\n              <div className=\"ms-2\">\n                <p className=\"m-0 p-0\">{title}</p>\n                <p className=\"m-0 p-0 text-success\">{formatCurrency(price)}</p>\n              </div>\n            </div>\n            <div className=\"col-7\">\n              <button\n                onClick={() => addToCart(product, 1)}\n                className=\"btn me-3 text-white btn-sm\"\n                style={{ backgroundColor: \"rgb(55, 59, 60)\" }}\n              >\n                Add to Cart\n              </button>\n              <button\n                className=\"btn btn-danger btn-sm\"\n                onClick={() => deleteFromWishlist(id)}\n              >\n                Delete\n              </button>\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n"],"names":["Wishlist","document","title","addToCart","useContext","CartContext","useState","isLoading","setIsLoading","removeFromWishlist","WishContext","auth","AuthContext","wishlist","setWishlist","useEffect","getWishlist","config","headers","Authorization","token","axios","process","user","id","then","response","data","favourit","catch","error","message","length","className","asOverlay","map","item","index","product","price","images","src","width","alt","formatCurrency","onClick","style","backgroundColor","filter","deleteFromWishlist","minHeight"],"sourceRoot":""}