{"version":3,"file":"static/js/310.dbab062f.chunk.js","mappings":"oIACO,IAAMA,EAAiB,SAACC,GAC3B,OAAO,IAAIC,KAAKC,aAAa,QAAS,CAClCC,MAAO,WACPC,SAAU,QACXC,OAAOL,EACb,C,wKCCc,SAASM,IAAY,IAAD,EACjCC,SAASC,MAAQ,WACjB,IAAQC,GAAuBC,EAAAA,EAAAA,YAAWC,EAAAA,GAAlCF,mBACFG,GAAOF,EAAAA,EAAAA,YAAWG,EAAAA,GACxB,GAAgCC,EAAAA,EAAAA,UAAS,IAAzC,eAAOC,EAAP,KAAiBC,EAAjB,KAiCA,OAzBAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAW,yCAAG,gGACZC,EAAS,CACbC,QAAS,CAAEC,cAAc,UAAD,cAAYT,QAAZ,IAAYA,OAAZ,EAAYA,EAAMU,SAF1B,SAKZC,IAAAA,IAAA,UAECC,GAFD,0BAEmDZ,EAAKa,KAAKC,GAF7D,gBAGFP,GAEDQ,MAAK,SAAUC,GACdZ,EAAYY,EAASC,KAAKA,KAAKC,SAChC,IACAC,OAAM,SAAUC,GAAQ,IAAD,EAEZ,UAAAA,EAAMJ,SAASC,YAAf,SAAqBI,QAC3BD,EAAMJ,SAASC,KAAKI,QACpBD,EAAMC,OACX,IAlBe,2CAAH,qDAqBjBf,GACD,GAAE,QAACN,QAAD,IAACA,OAAD,EAACA,EAAMU,MAAP,UAAcV,EAAKa,YAAnB,aAAc,EAAWC,KAEJ,IAApBX,EAASmB,QAET,gBACEC,UAAU,6DACVhC,MAAO,CAAEiC,UAAW,QAFtB,UAIE,iBAAKD,UAAU,cAAf,WACE,eAAIA,UAAU,oBAAd,uBACA,eAAIA,UAAU,iBAAd,yCAON,gBAAKA,UAAU,MAAf,SACGpB,EAASsB,KAAI,SAACC,EAAMC,GACnB,IAAQC,EAAYF,EAAZE,QACAhC,EAA6BgC,EAA7BhC,MAAOR,EAAsBwC,EAAtBxC,MAAOyC,EAAeD,EAAfC,OAAQf,EAAOc,EAAPd,GAC9B,OACE,iBAAKS,UAAU,yBAAf,WACE,gBAAKA,UAAU,QAAf,SAAwBI,EAAQ,KAEhC,iBAAKJ,UAAU,0DAAf,WACE,gBACEO,IAAG,UAAKlB,GAAL,yBAAsDiB,EAAO,IAChEE,MAAM,MACNC,IAAI,MAEN,iBAAKT,UAAU,OAAf,WACE,cAAGA,UAAU,UAAb,SAAwB3B,KACxB,cAAG2B,UAAU,uBAAb,UAAqCpC,EAAAA,EAAAA,GAAeC,YAGxD,iBAAKmC,UAAU,QAAf,WACE,mBACEA,UAAU,6BACVhC,MAAO,CAAE0C,gBAAiB,mBAF5B,0BAMA,mBACEV,UAAU,wBACVW,QAAS,kBA1EI,SAACpB,GAC1BV,EAAYD,EAASgC,QAAO,SAACT,GAAD,OAAUA,EAAKE,QAAQd,KAAOA,CAA9B,KAE5BjB,EAAmBiB,EACpB,CAsE4BsB,CAAmBtB,EAAzB,EAFX,yBASP,KAGN,C","sources":["Components/utils/currencyFormater.js","Pages/Wishlist/Wishlist.jsx"],"sourcesContent":["// format currency in USD\nexport const formatCurrency = (price) => {\n    return new Intl.NumberFormat('en-US', {\n        style: 'currency',\n        currency: 'USD',\n    }).format(price);\n};","import React, { useEffect, useState } from \"react\";\nimport { useContext } from \"react\";\nimport { AuthContext } from \"../../Components/Context/AuthContext\";\nimport { WishContext } from \"../../Components/Context/WishlistContext\";\nimport axios from \"axios\";\nimport { formatCurrency } from \"../../Components/utils/currencyFormater\";\n\nexport default function Wishlist() {\n  document.title = \"Wishlist\";\n  const { removeFromWishlist } = useContext(WishContext);\n  const auth = useContext(AuthContext);\n  const [wishlist, setWishlist] = useState([]);\n\n  const deleteFromWishlist = (id) => {\n    setWishlist(wishlist.filter((item) => item.product.id !== id));\n\n    removeFromWishlist(id);\n  };\n\n  useEffect(() => {\n    const getWishlist = async () => {\n      const config = {\n        headers: { Authorization: `Bearer ${auth?.token}` },\n      };\n\n      await axios\n        .get(\n          `${process.env.REACT_APP_SERVER_URL}/api/favourite/${auth.user.id}?pop=product`,\n          config\n        )\n        .then(function (response) {\n          setWishlist(response.data.data.favourit);\n        })\n        .catch(function (error) {\n          const err = {};\n          err.api = error.response.data?.message\n            ? error.response.data.message\n            : error.message;\n        });\n    };\n\n    getWishlist();\n  }, [auth?.token, auth.user?.id]);\n\n  if (wishlist.length === 0) {\n    return (\n      <div\n        className=\"container d-flex align-items-center justify-content-center\"\n        style={{ minHeight: \"72vh\" }}\n      >\n        <div className=\"text-center\">\n          <h3 className=\"text-secondary h2\">WishList</h3>\n          <h3 className=\"text-secondary\">There is Nothing here</h3>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"row\">\n      {wishlist.map((item, index) => {\n        const { product } = item;\n        const { title, price, images, id } = product;\n        return (\n          <div className=\"row align-items-center\">\n            <div className=\"col-1\">{index + 1}</div>\n\n            <div className=\"col-4 d-flex align-items-center flex-column flex-md-row\">\n              <img\n                src={`${process.env.REACT_APP_SERVER_URL}/img/products/${images[0]}`}\n                width=\"100\"\n                alt=\"\"\n              />\n              <div className=\"ms-2\">\n                <p className=\"m-0 p-0\">{title}</p>\n                <p className=\"m-0 p-0 text-success\">{formatCurrency(price)}</p>\n              </div>\n            </div>\n            <div className=\"col-7\">\n              <button\n                className=\"btn me-3 text-white btn-sm\"\n                style={{ backgroundColor: \"rgb(55, 59, 60)\" }}\n              >\n                Add to Cart\n              </button>\n              <button\n                className=\"btn btn-danger btn-sm\"\n                onClick={() => deleteFromWishlist(id)}\n              >\n                Delete\n              </button>\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n"],"names":["formatCurrency","price","Intl","NumberFormat","style","currency","format","Wishlist","document","title","removeFromWishlist","useContext","WishContext","auth","AuthContext","useState","wishlist","setWishlist","useEffect","getWishlist","config","headers","Authorization","token","axios","process","user","id","then","response","data","favourit","catch","error","message","length","className","minHeight","map","item","index","product","images","src","width","alt","backgroundColor","onClick","filter","deleteFromWishlist"],"sourceRoot":""}