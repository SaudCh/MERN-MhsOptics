{"version":3,"file":"static/js/857.c4d42b07.chunk.js","mappings":"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","sources":["Components/utils/currencyFormater.js","Components/PayButton.js","Pages/Cart/Cart.jsx"],"sourcesContent":["// format currency in USD\nexport const formatCurrency = (price) => {\n    return new Intl.NumberFormat('en-US', {\n        style: 'currency',\n        currency: 'USD',\n    }).format(price);\n};","import React from \"react\";\nimport axios from \"axios\";\n\nconst PayButton = ({ cart, user }) => {\n\tconst [loading, setLoading] = React.useState(false);\n\tconst handleCheckout = () => {\n\t\tconst token = JSON.parse(localStorage.getItem(\"token\"));\n\n\t\tconst config = {\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\tAuthorization: `Bearer ${token}`,\n\t\t\t},\n\t\t};\n\t\tsetLoading(true);\n\t\tdebugger;\n\n\t\taxios\n\t\t\t.post(\n\t\t\t\t`${process.env.REACT_APP_SERVER_URL}/api/orders/checkout-session`,\n\t\t\t\t{\n\t\t\t\t\tcart,\n\t\t\t\t\tuser,\n\t\t\t\t},\n\t\t\t\tconfig\n\t\t\t)\n\t\t\t.then((response) => {\n\t\t\t\tif (response.data.url) {\n\t\t\t\t\twindow.location.href = response.data.url;\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((err) => console.log(err.message));\n\t\tsetLoading(false);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{user?._id && (\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclass=\"btn text-white mt-3 \"\n\t\t\t\t\tonClick={() => handleCheckout()}\n\t\t\t\t\tdisabled={loading}\n\t\t\t\t\tstyle={{ backgroundColor: \"#373B3C\" }}\n\t\t\t\t>\n\t\t\t\t\t{loading && (\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclass=\"spinner-border spinner-border-sm\"\n\t\t\t\t\t\t\trole=\"status\"\n\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t></span>\n\t\t\t\t\t)}\n\t\t\t\t\tCheck out\n\t\t\t\t</button>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default PayButton;\n","import React, { useContext } from \"react\";\nimport { CartContext } from \"../../Components/Context/CartContext\";\nimport { AuthContext } from \"../../Components/Context/AuthContext\";\nimport {\n  DecrementIcon,\n  IncrementIcon,\n  TrashIcon,\n} from \"../../Components/icons\";\nimport PayButton from \"../../Components/PayButton\";\nimport { formatCurrency } from \"../../Components/utils/currencyFormater\";\n\nexport default function Cart() {\n  document.title = \"Cart\";\n  const { cart, removeAll, removeItem, total, IncQuantity, DecQuantity } =\n    useContext(CartContext);\n  const { user } = useContext(AuthContext);\n\n  if (cart.length === 0) {\n    return (\n      <div\n        className=\"cart d-flex align-items-center justify-content-center\"\n        style={{ minHeight: \"70vh\" }}\n      >\n        <div className=\"text-center\">\n          <h1>Cart</h1>\n          <p>There are no items in your cart.</p>\n        </div>\n      </div>\n    );\n  }\n  return (\n    <section\n      className=\"container-fluid mt-3 pt-2 \"\n      style={{ minHeight: \"72vh\" }}\n    >\n      <div className=\"row justify-content-center align-items-center align-items-md-start flex-column-reverse flex-md-row\">\n        <div\n          className=\"col-11 col-md-9 bg-light border rounded p-2 mt-3 mt-md-0\"\n          style={{ minHeight: \"50vh\" }}\n        >\n          <div className=\"d-flex justify-content-between\">\n            <p className=\"h4\">Cart</p>\n            <button\n              className=\"btn btn-sm text-white\"\n              style={{ backgroundColor: \"#373B3C\" }}\n              onClick={() => removeAll()}\n            >\n              Remove All\n            </button>\n          </div>\n          {cart.map((e) => (\n            <>\n              <div className=\"d-flex justify-content-between align-items-center\">\n                <div className=\"d-flex align-items-center\">\n                  <figure className=\"rounded overflow-hidden border\">\n                    <img\n                      src={`${process.env.REACT_APP_SERVER_URL}/img/products/${e.image}`}\n                      alt=\"\"\n                      width=\"100\"\n                      height=\"100\"\n                    />\n                  </figure>\n                  <div className=\"ms-1\">\n                    <p className=\"h6 p-0 m-0\">{e.title}</p>\n                    <p className=\"p-0 m-0 text-success fw-bold\">\n                      {formatCurrency(e.price)}\n                    </p>\n                  </div>\n                </div>\n                <div className=\"text-center\">\n                  <p className=\"p-0 m-0 text-success fw-bold\">\n                    {formatCurrency(e.price)}\n                  </p>\n                  <div className=\"border d-flex rounded overflow-hidden bg-white\">\n                    <button\n                      className=\"btn px-2 py-1 cart-icon border-end\"\n                      onClick={() => DecQuantity(e.id)}\n                    >\n                      <DecrementIcon />\n                    </button>\n                    <div>\n                      <p className=\"m-0 px-3 py-1\">{e.quantity}</p>\n                    </div>\n                    <button\n                      className=\"btn px-2 py-1 cart-icon border-start\"\n                      onClick={() => IncQuantity(e.id)}\n                    >\n                      <IncrementIcon />\n                    </button>\n                  </div>\n                </div>\n                <div className=\"\">\n                  <button\n                    className=\"btn btn-danger btn-sm\"\n                    onClick={() => removeItem(e.id)}\n                  >\n                    <TrashIcon />\n                  </button>\n                </div>\n              </div>\n              <hr />\n            </>\n          ))}\n        </div>\n        <div className=\"col-11 col-md-2\">\n          <div className=\"bg-light border p-2 rounded\">\n            <div className=\"d-flex justify-content-between\">\n              <p className=\"p-0 m-0\">Subtotal</p>\n              <p className=\"p-0 m-0\">{formatCurrency(total)}</p>\n            </div>\n            <div className=\"d-flex justify-content-between\">\n              <p className=\"p-0 m-0\">Delivery Charges</p>\n              <p className=\"p-0 m-0\">Total</p>\n            </div>\n            <hr />\n            <div className=\"d-flex justify-content-between\">\n              <p className=\"p-0 m-0\">Total</p>\n              <p className=\"p-0 m-0\">{formatCurrency(total)}</p>\n            </div>\n            <div className=\"text-end\">\n              <PayButton cart={cart} user={user} />\n            </div>\n          </div>\n          <div className=\"d-flex justify-content-between\">\n            <PayButton cart={cart} user={user} />\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n}\n"],"names":["formatCurrency","price","Intl","NumberFormat","style","currency","format","cart","user","React","loading","setLoading","_id","type","class","onClick","token","JSON","parse","localStorage","getItem","config","headers","Authorization","axios","process","then","response","data","url","window","location","href","catch","err","console","log","message","handleCheckout","disabled","backgroundColor","role","Cart","document","title","useContext","CartContext","removeAll","removeItem","total","IncQuantity","DecQuantity","AuthContext","length","className","minHeight","map","e","src","image","alt","width","height","id","quantity"],"sourceRoot":""}