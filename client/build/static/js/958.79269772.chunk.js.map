{"version":3,"file":"static/js/958.79269772.chunk.js","mappings":"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","sources":["Pages/Checkout/Checkout.jsx"],"sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\r\nimport { CartContext } from \"../../Components/Context/CartContext\";\r\nimport { AuthContext } from \"../../Components/Context/AuthContext\";\r\nimport axios from \"axios\";\r\n// import PayButton from \"../../Components/PayButton\";\r\nimport { formatCurrency } from \"../../Components/utils/currencyFormater\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./checkout.css\";\r\nimport LoadingSpinner from \"../../Components/Spinner/spinner\";\r\n\r\nexport default function Checkout() {\r\n  document.title = \"Cart\";\r\n  const [activeOpt, setActiveOpt] = useState(\"card\");\r\n  const [address, setAddress] = useState(\"\");\r\n  const { cart } = useContext(CartContext);\r\n  const { token } = useContext(AuthContext);\r\n  const [errors, setErrors] = useState({});\r\n  const [loading, setLoading] = useState(false);\r\n  const year = new Date().getFullYear();\r\n\r\n  useEffect(() => {\r\n    const fetchAddress = async () => {\r\n      setLoading(true);\r\n      const config = {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      };\r\n\r\n      await axios\r\n        .get(`${process.env.REACT_APP_SERVER_URL}/api/users/me`, config)\r\n        .then(function (response) {\r\n          const user = response.data.data.data;\r\n\r\n          setAddress({\r\n            firstName: user?.firstName,\r\n            lastName: user?.lastName,\r\n            email: user?.email,\r\n            phone: user?.phone,\r\n            street: user?.street,\r\n            city: user?.city,\r\n            postalCode: user?.postalCode,\r\n            country: user?.country,\r\n          });\r\n        })\r\n        .catch(function (error) {\r\n          const err = {};\r\n          err.api = error.response.data?.message\r\n            ? error.response.data.message\r\n            : error.message;\r\n          setErrors(err);\r\n        });\r\n\r\n      setLoading(false);\r\n    };\r\n    fetchAddress();\r\n  }, [token]);\r\n\r\n  if (cart.length === 0) {\r\n    return (\r\n      <div\r\n        className=\"cart d-flex align-items-center justify-content-center\"\r\n        style={{ minHeight: \"70vh\" }}\r\n      >\r\n        <div className=\"text-center\">\r\n          <h1>Cart</h1>\r\n          <p>There are no items in your cart.</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <section\r\n      className=\"container-fluid mt-3 pt-2 \"\r\n      style={{ minHeight: \"72vh\" }}\r\n    >\r\n      {loading && <LoadingSpinner asOverlay />}\r\n      {errors.api && (\r\n        <div className=\"alert alert-danger\" role=\"alert\">\r\n          {errors.api}\r\n        </div>\r\n      )}\r\n      <div className=\"row justify-content-center align-items-center align-items-md-start flex-column-reverse flex-md-row\">\r\n        <div className=\"col-11 col-md-8\">\r\n          <div className=\"bg-light border p-2 rounded\">\r\n            <h5>Select Payment Option</h5>\r\n\r\n            <div className=\"d-flex\" style={{ justifyContent: \"space-evenly\" }}>\r\n              <btn\r\n                className={`btn border payment-options ${\r\n                  activeOpt === \"card\" ? \"payment-options-active\" : \"\"\r\n                }`}\r\n                onClick={() => setActiveOpt(\"card\")}\r\n              >\r\n                Card Payment\r\n              </btn>\r\n              <btn\r\n                className={`btn border payment-options ${\r\n                  activeOpt === \"cashondelivery\" ? \"payment-options-active\" : \"\"\r\n                }`}\r\n                onClick={() => setActiveOpt(\"cashondelivery\")}\r\n              >\r\n                Cash On Delievery\r\n              </btn>\r\n            </div>\r\n            {activeOpt === \"card\" ? (\r\n              <form className=\"mt-3\">\r\n                <div class=\"mb-3\">\r\n                  <label for=\"exampleInputEmail1\" class=\"form-label\">\r\n                    Name on Card\r\n                  </label>\r\n                  <input type=\"text\" class=\"form-control\" id=\"name\" />\r\n                </div>\r\n                <div class=\"mb-3\">\r\n                  <label for=\"exampleInputPassword1\" class=\"form-label\">\r\n                    Card Number\r\n                  </label>\r\n                  <input type=\"text\" class=\"form-control\" id=\"number\" />\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"col-12 col-md-4\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputPassword1\" class=\"form-label\">\r\n                        Month\r\n                      </label>\r\n                      <select\r\n                        class=\"form-select\"\r\n                        aria-label=\"Default select example\"\r\n                      >\r\n                        {[...Array(12)].map((e, i) => (\r\n                          <option value={i + 1}>{i + 1}</option>\r\n                        ))}\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"col-12 col-md-4\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputPassword1\" class=\"form-label\">\r\n                        Year\r\n                      </label>\r\n                      <select\r\n                        class=\"form-select\"\r\n                        aria-label=\"Default select example\"\r\n                      >\r\n                        {[...Array(10)].map((e, i) => (\r\n                          <option value={i + year}>{i + year}</option>\r\n                        ))}\r\n                      </select>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"col-12 col-md-4\">\r\n                    <div class=\"mb-3\">\r\n                      <label for=\"exampleInputPassword1\" class=\"form-label\">\r\n                        CVV\r\n                      </label>\r\n                      <input type=\"text\" class=\"form-control\" id=\"number\" />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </form>\r\n            ) : null}\r\n\r\n            {activeOpt === \"cashondelivery\" ? (\r\n              <div className=\"my-3\"></div>\r\n            ) : null}\r\n          </div>\r\n          <div className=\"bg-light border p-2 rounded my-3\">\r\n            <h5>Address Details</h5>\r\n            <p>\r\n              <span className=\"fw-bold\">Address</span>: {address.street},{\" \"}\r\n              {address.city}, {address.postalCode}, {address.country}\r\n            </p>\r\n            <Link\r\n              to=\"/confirm-address\"\r\n              className=\"btn text-white\"\r\n              style={{ backgroundColor: \"#373B3C\" }}\r\n            >\r\n              Change\r\n            </Link>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"col-11 col-md-3\">\r\n          <div\r\n            className=\" bg-light border rounded p-2 mt-3 mt-md-0\"\r\n            style={{ minHeight: \"40vh\" }}\r\n          >\r\n            <div className=\"d-flex justify-content-between\">\r\n              <p className=\"h5\">Order Summary</p>\r\n            </div>\r\n            {cart.map((e) => (\r\n              <>\r\n                <div className=\"d-flex justify-content-between align-items-center\">\r\n                  <div className=\"d-flex align-items-center\">\r\n                    <div className=\"ms-1\">\r\n                      <p className=\"h6 p-0 m-0\">{e.title}</p>\r\n                      <p className=\"p-0 m-0 text-success fw-bold\">\r\n                        {formatCurrency(e.price)}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"text-center\">\r\n                    <p className=\"p-0 m-0 text-success fw-bold\">\r\n                      {formatCurrency(e.price)}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n                <hr />\r\n              </>\r\n            ))}\r\n          </div>\r\n          <div className=\"mt-3\">\r\n            {/* <PayButton cart={cart} user={user} /> */}\r\n            <button className=\"btn pay-button w-100 btn-outline-primary\">\r\n              Purchase Now\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n"],"names":["Checkout","document","title","useState","activeOpt","setActiveOpt","address","setAddress","cart","useContext","CartContext","token","AuthContext","errors","setErrors","loading","setLoading","year","Date","getFullYear","useEffect","fetchAddress","config","headers","Authorization","axios","process","then","response","user","data","firstName","lastName","email","phone","street","city","postalCode","country","catch","error","err","api","message","length","className","style","minHeight","asOverlay","role","justifyContent","onClick","class","for","type","id","Array","map","e","i","value","to","backgroundColor","formatCurrency","price"],"sourceRoot":""}