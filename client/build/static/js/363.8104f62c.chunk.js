"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[363],{4363:function(e,a,s){s.r(a),s.d(a,{default:function(){return x}});var l=s(2791),o=s(4165),r=s(5861),t=s(4942),n=s(1413),c=s(9439),i=s(7008),d=s(7271),m=s(4569),u=s.n(m),p=s(8174),h=s(184);function v(){var e=(0,l.useContext)(i.V),a=(0,l.useState)(""),s=(0,c.Z)(a,2),m=s[0],v=s[1],f=(0,d.o)(),x=(0,l.useState)(!1),N=(0,c.Z)(x,2),b=N[0],j=N[1],g=(0,l.useState)({firstName:"",lastName:"",email:"",phone:"",street:"",city:"",postalCode:"",country:""}),C=(0,c.Z)(g,2),w=C[0],y=C[1];function Z(e){var a=e.target.value;y((0,n.Z)((0,n.Z)({},w),{},(0,t.Z)({},e.target.name,a)))}(0,l.useEffect)((function(){var a={headers:{Authorization:"Bearer ".concat(null===e||void 0===e?void 0:e.token)}};u().get("".concat("","/api/users/me"),a).then((function(e){var a=e.data.data.data;y({firstName:null===a||void 0===a?void 0:a.firstName,lastName:null===a||void 0===a?void 0:a.lastName,email:null===a||void 0===a?void 0:a.email,phone:null===a||void 0===a?void 0:a.phone,street:null===a||void 0===a?void 0:a.street,city:null===a||void 0===a?void 0:a.city,postalCode:null===a||void 0===a?void 0:a.postalCode,country:null===a||void 0===a?void 0:a.country})})).catch((function(e){var a,s={};s.api=null!==(a=e.response.data)&&void 0!==a&&a.message?e.response.data.message:e.message,v(s)}))}),[null===e||void 0===e?void 0:e.token]);var k=function(){var a=(0,r.Z)((0,o.Z)().mark((function a(s){var l;return(0,o.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s.preventDefault(),v(""),j(!0),l={headers:{Authorization:"Bearer ".concat(null===e||void 0===e?void 0:e.token)}},a.next=6,u().patch("".concat("","/api/users/updateMe"),w,l).then((function(e){p.Am.success("User Info Updated",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){var a,s={};s.api=null!==(a=e.response.data)&&void 0!==a&&a.message?e.response.data.message:e.message,v(s)}));case 6:j(!1);case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return(0,h.jsx)("section",{className:"container-fluid",children:(0,h.jsxs)("form",{className:"row",onSubmit:k,children:[m.api&&(0,h.jsx)("div",{className:"alert alert-danger col-12",children:m.api}),(0,h.jsx)("h3",{children:"Account Details"}),(0,h.jsxs)("div",{className:"mb-3 col-11 col-md-6",children:[(0,h.jsx)("label",{htmlFor:"fname",className:"form-label",children:"First Name"}),(0,h.jsx)("input",{type:"text",placeholder:"First Name",className:"form-control",name:"firstName",value:w.firstName,onChange:Z,id:"fname"})]}),(0,h.jsxs)("div",{className:"mb-3 col-11 col-md-6",children:[(0,h.jsx)("label",{htmlFor:"lname",className:"form-label",children:"Last Name"}),(0,h.jsx)("input",{type:"text",name:"lastName",placeholder:"Last Name",value:w.lastName,onChange:Z,className:"form-control",id:"lname"})]}),(0,h.jsxs)("div",{className:"mb-3 col-11 col-md-6",children:[(0,h.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),(0,h.jsx)("input",{type:"email",name:"email",value:w.email,onChange:Z,placeholder:"Email",className:"form-control",id:"email"})]}),(0,h.jsxs)("div",{className:"mb-3 col-11 col-md-6",children:[(0,h.jsx)("label",{htmlFor:"phone",className:"form-label",children:"Phone"}),(0,h.jsx)("input",{type:"text",name:"phone",value:w.phone,onChange:Z,placeholder:"Phone",className:"form-control",id:"phone"})]}),(0,h.jsx)("hr",{className:"my-4"}),(0,h.jsx)("h3",{children:"Delivery address"}),(0,h.jsxs)("div",{className:"mb-3 col-11 col-md-6",children:[(0,h.jsx)("label",{htmlFor:"street",className:"form-label",children:"Street"}),(0,h.jsx)("input",{type:"text",name:"street",value:w.street,onChange:Z,placeholder:"Street",className:"form-control",id:"street"})]}),(0,h.jsxs)("div",{className:"mb-3 col-11 col-md-6",children:[(0,h.jsx)("label",{htmlFor:"city",className:"form-label",children:"City"}),(0,h.jsx)("input",{type:"text",name:"city",value:w.city,onChange:Z,placeholder:"City",className:"form-control",id:"city"})]}),(0,h.jsxs)("div",{className:"mb-3 col-11 col-md-6",children:[(0,h.jsx)("label",{htmlFor:"postalcode",className:"form-label",children:"Postal Code"}),(0,h.jsx)("input",{type:"text",name:"postalCode",value:w.postalCode,onChange:Z,placeholder:"Postal Code",className:"form-control",id:"postalcode"})]}),(0,h.jsxs)("div",{className:"mb-3 col-11 col-md-6",children:[(0,h.jsx)("label",{htmlFor:"phone",className:"form-label",children:"Country"}),(0,h.jsx)("select",{className:"form-select",name:"country",value:w.country,onChange:Z,"aria-label":"Default select example",children:f.map((function(e){return(0,h.jsx)("option",{value:e.name,children:e.name})}))})]}),(0,h.jsx)("button",{type:"submit",className:"btn btn-primary col-4",style:{backgroundColor:"#00aef9",border:0},disabled:b,children:"Save"})]})})}function f(){var e=(0,l.useContext)(i.V),a=(0,l.useState)(""),s=(0,c.Z)(a,2),d=s[0],m=s[1],v=(0,l.useState)(""),f=(0,c.Z)(v,2),x=f[0],N=f[1],b=(0,l.useState)({passwordCurrent:"",password:"",passwordConfirm:""}),j=(0,c.Z)(b,2),g=j[0],C=j[1];function w(e){var a=e.target.value;C((0,n.Z)((0,n.Z)({},g),{},(0,t.Z)({},e.target.name,a)))}var y=function(){var a=(0,r.Z)((0,o.Z)().mark((function a(s){var l;return(0,o.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s.preventDefault(),m(""),N(!0),l={headers:{Authorization:"Bearer ".concat(null===e||void 0===e?void 0:e.token)}},a.next=6,u().patch("".concat("","/api/users/updateMyPassword"),g,l).then((function(a){e.login(a.data.data.user,a.data.token),C({passwordCurrent:"",password:"",passwordConfirm:""}),p.Am.success("Password Updated",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){var a,s={};s.api=null!==(a=e.response.data)&&void 0!==a&&a.message?e.response.data.message:e.message,m(s)}));case 6:N(!1);case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("hr",{className:"my-4"}),(0,h.jsx)("section",{className:"container-fluid mb-5",children:(0,h.jsxs)("form",{className:"row",onSubmit:y,children:[d.api&&(0,h.jsx)("div",{className:"alert alert-danger col-12",children:d.api}),(0,h.jsx)("h3",{children:"Change password"}),(0,h.jsxs)("div",{className:"mb-3 col-11 col-md-12",children:[(0,h.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),(0,h.jsx)("input",{type:"password",name:"passwordCurrent",value:g.passwordCurrent,onChange:w,placeholder:"***********",className:"form-control",id:"password"})]}),(0,h.jsxs)("div",{className:"mb-3 col-11 col-md-6",children:[(0,h.jsx)("label",{htmlFor:"newpassword",className:"form-label",children:"New Password"}),(0,h.jsx)("input",{type:"password",name:"password",value:g.password,onChange:w,placeholder:"New Password",className:"form-control",id:"newpassword"})]}),(0,h.jsxs)("div",{className:"mb-3 col-11 col-md-6",children:[(0,h.jsx)("label",{htmlFor:"confirmpassword",className:"form-label",children:"Confirm Password"}),(0,h.jsx)("input",{type:"password",name:"passwordConfirm",value:g.passwordConfirm,onChange:w,placeholder:"Confirm Password",className:"form-control",id:"confirmpassword"})]}),(0,h.jsx)("button",{type:"submit",className:"btn btn-primary col-4",style:{backgroundColor:"#00aef9",border:0},disabled:x,children:"Save"})]})})]})}function x(){return document.title="Account",(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(v,{}),(0,h.jsx)(f,{})]})}}}]);
//# sourceMappingURL=363.8104f62c.chunk.js.map